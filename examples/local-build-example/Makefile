# Makefile - æœ¬åœ°æ„å»ºå‘½ä»¤
# ä½¿ç”¨ä¸ GitHub Action ç›¸åŒçš„ Pipeline ç±»

.PHONY: build test clean help

help:
	@echo "å¯ç”¨å‘½ä»¤:"
	@echo "  make build  - æ„å»ºé¡¹ç›®"
	@echo "  make test   - è¿è¡Œæµ‹è¯•"
	@echo "  make clean  - æ¸…ç†æ„å»ºäº§ç‰©"

build:
	@echo "ğŸš€ å¼€å§‹æœ¬åœ°æ„å»º..."
	@python -m src.pipelines.build_pipeline \
		--input project-name="my-project" \
		--input build-mode="release" \
		--input build-version="local-$$(date +%Y%m%d-%H%M%S)" \
		--input upload-artifacts="false"
	@echo "âœ… æ„å»ºå®Œæˆï¼"
	@echo "ğŸ“¦ äº§ç‰©ä½ç½®: artifacts/"

test:
	@echo "ğŸ§ª è¿è¡Œæµ‹è¯•..."
	@python -m src.pipelines.test_pipeline \
		--input test-type="all" \
		--input run-unit-tests="true"

clean:
	@echo "ğŸ§¹ æ¸…ç†æ„å»ºäº§ç‰©..."
	@rm -rf artifacts/ build/ dist/
	@echo "âœ… æ¸…ç†å®Œæˆï¼"


